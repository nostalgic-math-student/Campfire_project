{
  "address": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_aiTrainer",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "proposalId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "name": "ProposalCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "proposalId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "datasetHash",
          "type": "string"
        }
      ],
      "name": "ProposalExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "proposalId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "votes",
          "type": "uint256"
        }
      ],
      "name": "Voted",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "aiTrainer",
      "outputs": [
        {
          "internalType": "contract IAITrainer",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_datasetHash",
          "type": "string"
        }
      ],
      "name": "createProposal",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_proposalId",
          "type": "uint256"
        }
      ],
      "name": "executeProposal",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "proposals",
      "outputs": [
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "votes",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "executed",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "datasetHash",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_proposalId",
          "type": "uint256"
        }
      ],
      "name": "vote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xf6cf9f0d451230135fd8b7402a227c77022e215d5a81aaed5281016e3b32ffb0",
  "receipt": {
    "to": null,
    "from": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
    "contractAddress": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
    "transactionIndex": 0,
    "gasUsed": "641625",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xe1d5d765cb9c940665a2eacc0e516cc39d05d41fb9b4e5713e6136bc6f1eeb76",
    "transactionHash": "0xf6cf9f0d451230135fd8b7402a227c77022e215d5a81aaed5281016e3b32ffb0",
    "logs": [],
    "blockNumber": 2,
    "cumulativeGasUsed": "641625",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x5FbDB2315678afecb367f032d93F642f64180aa3"
  ],
  "numDeployments": 1,
  "solcInputHash": "1c6fbb2b90a95a14e7b51b5ec20c94f1",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_aiTrainer\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"}],\"name\":\"ProposalCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"datasetHash\",\"type\":\"string\"}],\"name\":\"ProposalExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"votes\",\"type\":\"uint256\"}],\"name\":\"Voted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"aiTrainer\",\"outputs\":[{\"internalType\":\"contract IAITrainer\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_description\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_datasetHash\",\"type\":\"string\"}],\"name\":\"createProposal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_proposalId\",\"type\":\"uint256\"}],\"name\":\"executeProposal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"proposals\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"votes\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"executed\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"datasetHash\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_proposalId\",\"type\":\"uint256\"}],\"name\":\"vote\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/DAO.sol\":\"DAO\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/DAO.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.19;\\n\\ninterface IAITrainer {\\n    function trainModel(uint256 proposalId, string memory datasetHash) external;\\n}\\n\\ncontract DAO {\\n    struct Proposal {\\n        string description;\\n        uint256 votes;\\n        bool executed;\\n        string datasetHash; // Hash del dataset aprobado para el entrenamiento\\n    }\\n\\n    Proposal[] public proposals;\\n    IAITrainer public aiTrainer;\\n\\n    event ProposalCreated(uint256 indexed proposalId, string description);\\n    event Voted(uint256 indexed proposalId, uint256 votes);\\n    event ProposalExecuted(uint256 indexed proposalId, string datasetHash);\\n\\n    constructor( address _aiTrainer) {\\n        aiTrainer = IAITrainer(_aiTrainer);\\n    }\\n\\n    function createProposal(string memory _description, string memory _datasetHash) public {\\n        proposals.push(Proposal(_description, 0, false, _datasetHash));\\n        emit ProposalCreated(proposals.length - 1, _description);\\n    }\\n\\n    function vote(uint256 _proposalId) public {\\n        require(_proposalId < proposals.length, \\\"Propuesta inexistente\\\");\\n        proposals[_proposalId].votes++;\\n        emit Voted(_proposalId, proposals[_proposalId].votes);\\n    }\\n\\n    function executeProposal(uint256 _proposalId) public {\\n        require(_proposalId < proposals.length, \\\"Propuesta inexistente\\\");\\n        require(!proposals[_proposalId].executed, \\\"Ya ejecutada\\\");\\n\\n        proposals[_proposalId].executed = true;\\n        emit ProposalExecuted(_proposalId, proposals[_proposalId].datasetHash);\\n\\n        // Llama al contrato AITrainer para ejecutar el entrenamiento\\n        aiTrainer.trainModel(_proposalId, proposals[_proposalId].datasetHash);\\n    }\\n}\\n\",\"keccak256\":\"0xa5278b18f496e43996b4fecea1f2810dbcd4afcd59f58754bf9d71f953391a64\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50604051610ac7380380610ac783398101604081905261002f91610054565b600180546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610a34806100936000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80630121b93f1461005c578063013cf08b146100715780630d61b5191461009d57806365e481e2146100b05780639ad023b7146100c3575b600080fd5b61006f61006a3660046105e8565b6100ee565b005b61008461007f3660046105e8565b6101d3565b6040516100949493929190610647565b60405180910390f35b61006f6100ab3660046105e8565b61032b565b61006f6100be366004610728565b610500565b6001546100d6906001600160a01b031681565b6040516001600160a01b039091168152602001610094565b600054811061013c5760405162461bcd60e51b815260206004820152601560248201527450726f70756573746120696e6578697374656e746560581b60448201526064015b60405180910390fd5b6000818154811061014f5761014f61078c565b60009182526020822060016004909202010180549161016d836107b8565b9190505550807f84a5508ca0d85b42a876e75a9126f3ae7b43617ce60b170bf8805d34630bc654600083815481106101a7576101a761078c565b9060005260206000209060040201600101546040516101c891815260200190565b60405180910390a250565b600081815481106101e357600080fd5b9060005260206000209060040201600091509050806000018054610206906107d1565b80601f0160208091040260200160405190810160405280929190818152602001828054610232906107d1565b801561027f5780601f106102545761010080835404028352916020019161027f565b820191906000526020600020905b81548152906001019060200180831161026257829003601f168201915b50505050600183015460028401546003850180549495929460ff9092169350906102a8906107d1565b80601f01602080910402602001604051908101604052809291908181526020018280546102d4906107d1565b80156103215780601f106102f657610100808354040283529160200191610321565b820191906000526020600020905b81548152906001019060200180831161030457829003601f168201915b5050505050905084565b60005481106103745760405162461bcd60e51b815260206004820152601560248201527450726f70756573746120696e6578697374656e746560581b6044820152606401610133565b600081815481106103875761038761078c565b600091825260209091206002600490920201015460ff16156103da5760405162461bcd60e51b815260206004820152600c60248201526b596120656a6563757461646160a01b6044820152606401610133565b6001600082815481106103ef576103ef61078c565b906000526020600020906004020160020160006101000a81548160ff021916908315150217905550807f537137e7fc21556269dc66003ff063d7ee0ce98cf05ad2feddda124690976e956000838154811061044c5761044c61078c565b906000526020600020906004020160030160405161046a9190610888565b60405180910390a2600154600080546001600160a01b039092169163db65a42b9184918290811061049d5761049d61078c565b90600052602060002090600402016003016040518363ffffffff1660e01b81526004016104cb9291906108a2565b600060405180830381600087803b1580156104e557600080fd5b505af11580156104f9573d6000803e3d6000fd5b5050505050565b60408051608081018252838152600060208201819052918101829052606081018390528154600181018355918052805190916004027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563019081906105649082610912565b5060208201516001820155604082015160028201805460ff19169115159190911790556060820151600382019061059b9082610912565b50506000546105ad91506001906109d2565b7f9c770c289ab5bf7e57cb1d23c8ceae993aea46eb64847072fd3d78ca60d3e432836040516105dc91906109eb565b60405180910390a25050565b6000602082840312156105fa57600080fd5b5035919050565b6000815180845260005b818110156106275760208185018101518683018201520161060b565b506000602082860101526020601f19601f83011685010191505092915050565b60808152600061065a6080830187610601565b8560208401528415156040840152828103606084015261067a8185610601565b979650505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126106ac57600080fd5b813567ffffffffffffffff808211156106c7576106c7610685565b604051601f8301601f19908116603f011681019082821181831017156106ef576106ef610685565b8160405283815286602085880101111561070857600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806040838503121561073b57600080fd5b823567ffffffffffffffff8082111561075357600080fd5b61075f8683870161069b565b9350602085013591508082111561077557600080fd5b506107828582860161069b565b9150509250929050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000600182016107ca576107ca6107a2565b5060010190565b600181811c908216806107e557607f821691505b60208210810361080557634e487b7160e01b600052602260045260246000fd5b50919050565b60008154610818816107d1565b808552602060018381168015610835576001811461084f5761087d565b60ff1985168884015283151560051b88018301955061087d565b866000528260002060005b858110156108755781548a820186015290830190840161085a565b890184019650505b505050505092915050565b60208152600061089b602083018461080b565b9392505050565b8281526040602082015260006108bb604083018461080b565b949350505050565b601f82111561090d57600081815260208120601f850160051c810160208610156108ea5750805b601f850160051c820191505b81811015610909578281556001016108f6565b5050505b505050565b815167ffffffffffffffff81111561092c5761092c610685565b6109408161093a84546107d1565b846108c3565b602080601f831160018114610975576000841561095d5750858301515b600019600386901b1c1916600185901b178555610909565b600085815260208120601f198616915b828110156109a457888601518255948401946001909101908401610985565b50858210156109c25787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b818103818111156109e5576109e56107a2565b92915050565b60208152600061089b602083018461060156fea26469706673582212204a7705a049e54f78b222213be7fe80c17617e76a5e0dbbf0e786b0ff288df63764736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c80630121b93f1461005c578063013cf08b146100715780630d61b5191461009d57806365e481e2146100b05780639ad023b7146100c3575b600080fd5b61006f61006a3660046105e8565b6100ee565b005b61008461007f3660046105e8565b6101d3565b6040516100949493929190610647565b60405180910390f35b61006f6100ab3660046105e8565b61032b565b61006f6100be366004610728565b610500565b6001546100d6906001600160a01b031681565b6040516001600160a01b039091168152602001610094565b600054811061013c5760405162461bcd60e51b815260206004820152601560248201527450726f70756573746120696e6578697374656e746560581b60448201526064015b60405180910390fd5b6000818154811061014f5761014f61078c565b60009182526020822060016004909202010180549161016d836107b8565b9190505550807f84a5508ca0d85b42a876e75a9126f3ae7b43617ce60b170bf8805d34630bc654600083815481106101a7576101a761078c565b9060005260206000209060040201600101546040516101c891815260200190565b60405180910390a250565b600081815481106101e357600080fd5b9060005260206000209060040201600091509050806000018054610206906107d1565b80601f0160208091040260200160405190810160405280929190818152602001828054610232906107d1565b801561027f5780601f106102545761010080835404028352916020019161027f565b820191906000526020600020905b81548152906001019060200180831161026257829003601f168201915b50505050600183015460028401546003850180549495929460ff9092169350906102a8906107d1565b80601f01602080910402602001604051908101604052809291908181526020018280546102d4906107d1565b80156103215780601f106102f657610100808354040283529160200191610321565b820191906000526020600020905b81548152906001019060200180831161030457829003601f168201915b5050505050905084565b60005481106103745760405162461bcd60e51b815260206004820152601560248201527450726f70756573746120696e6578697374656e746560581b6044820152606401610133565b600081815481106103875761038761078c565b600091825260209091206002600490920201015460ff16156103da5760405162461bcd60e51b815260206004820152600c60248201526b596120656a6563757461646160a01b6044820152606401610133565b6001600082815481106103ef576103ef61078c565b906000526020600020906004020160020160006101000a81548160ff021916908315150217905550807f537137e7fc21556269dc66003ff063d7ee0ce98cf05ad2feddda124690976e956000838154811061044c5761044c61078c565b906000526020600020906004020160030160405161046a9190610888565b60405180910390a2600154600080546001600160a01b039092169163db65a42b9184918290811061049d5761049d61078c565b90600052602060002090600402016003016040518363ffffffff1660e01b81526004016104cb9291906108a2565b600060405180830381600087803b1580156104e557600080fd5b505af11580156104f9573d6000803e3d6000fd5b5050505050565b60408051608081018252838152600060208201819052918101829052606081018390528154600181018355918052805190916004027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563019081906105649082610912565b5060208201516001820155604082015160028201805460ff19169115159190911790556060820151600382019061059b9082610912565b50506000546105ad91506001906109d2565b7f9c770c289ab5bf7e57cb1d23c8ceae993aea46eb64847072fd3d78ca60d3e432836040516105dc91906109eb565b60405180910390a25050565b6000602082840312156105fa57600080fd5b5035919050565b6000815180845260005b818110156106275760208185018101518683018201520161060b565b506000602082860101526020601f19601f83011685010191505092915050565b60808152600061065a6080830187610601565b8560208401528415156040840152828103606084015261067a8185610601565b979650505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126106ac57600080fd5b813567ffffffffffffffff808211156106c7576106c7610685565b604051601f8301601f19908116603f011681019082821181831017156106ef576106ef610685565b8160405283815286602085880101111561070857600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806040838503121561073b57600080fd5b823567ffffffffffffffff8082111561075357600080fd5b61075f8683870161069b565b9350602085013591508082111561077557600080fd5b506107828582860161069b565b9150509250929050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000600182016107ca576107ca6107a2565b5060010190565b600181811c908216806107e557607f821691505b60208210810361080557634e487b7160e01b600052602260045260246000fd5b50919050565b60008154610818816107d1565b808552602060018381168015610835576001811461084f5761087d565b60ff1985168884015283151560051b88018301955061087d565b866000528260002060005b858110156108755781548a820186015290830190840161085a565b890184019650505b505050505092915050565b60208152600061089b602083018461080b565b9392505050565b8281526040602082015260006108bb604083018461080b565b949350505050565b601f82111561090d57600081815260208120601f850160051c810160208610156108ea5750805b601f850160051c820191505b81811015610909578281556001016108f6565b5050505b505050565b815167ffffffffffffffff81111561092c5761092c610685565b6109408161093a84546107d1565b846108c3565b602080601f831160018114610975576000841561095d5750858301515b600019600386901b1c1916600185901b178555610909565b600085815260208120601f198616915b828110156109a457888601518255948401946001909101908401610985565b50858210156109c25787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b818103818111156109e5576109e56107a2565b92915050565b60208152600061089b602083018461060156fea26469706673582212204a7705a049e54f78b222213be7fe80c17617e76a5e0dbbf0e786b0ff288df63764736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 246,
        "contract": "contracts/DAO.sol:DAO",
        "label": "proposals",
        "offset": 0,
        "slot": "0",
        "type": "t_array(t_struct(Proposal)242_storage)dyn_storage"
      },
      {
        "astId": 249,
        "contract": "contracts/DAO.sol:DAO",
        "label": "aiTrainer",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(IAITrainer)233"
      }
    ],
    "types": {
      "t_array(t_struct(Proposal)242_storage)dyn_storage": {
        "base": "t_struct(Proposal)242_storage",
        "encoding": "dynamic_array",
        "label": "struct DAO.Proposal[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(IAITrainer)233": {
        "encoding": "inplace",
        "label": "contract IAITrainer",
        "numberOfBytes": "20"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Proposal)242_storage": {
        "encoding": "inplace",
        "label": "struct DAO.Proposal",
        "members": [
          {
            "astId": 235,
            "contract": "contracts/DAO.sol:DAO",
            "label": "description",
            "offset": 0,
            "slot": "0",
            "type": "t_string_storage"
          },
          {
            "astId": 237,
            "contract": "contracts/DAO.sol:DAO",
            "label": "votes",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 239,
            "contract": "contracts/DAO.sol:DAO",
            "label": "executed",
            "offset": 0,
            "slot": "2",
            "type": "t_bool"
          },
          {
            "astId": 241,
            "contract": "contracts/DAO.sol:DAO",
            "label": "datasetHash",
            "offset": 0,
            "slot": "3",
            "type": "t_string_storage"
          }
        ],
        "numberOfBytes": "128"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}